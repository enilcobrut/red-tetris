{"version":3,"sources":["../../../../src/build/webpack/plugins/flight-client-entry-plugin.ts"],"names":["webpack","stringify","path","sources","getInvalidator","getEntries","EntryTypes","getEntryKey","WEBPACK_LAYERS","APP_CLIENT_INTERNALS","BARREL_OPTIMIZATION_PREFIX","COMPILER_NAMES","DEFAULT_RUNTIME_WEBPACK","EDGE_RUNTIME_WEBPACK","SERVER_REFERENCE_MANIFEST","UNDERSCORE_NOT_FOUND_ROUTE_ENTRY","getActions","generateActionId","isClientComponentEntryModule","isCSSMod","regexCSS","traverseModules","forEachEntryModule","formatBarrelOptimizedResource","getModuleReferencesInOrder","normalizePathSep","getProxiedPluginState","PAGE_TYPES","isWebpackServerOnlyLayer","getModuleBuildInfo","PLUGIN_NAME","pluginState","serverActions","edgeServerActions","actionModServerId","actionModEdgeServerId","serverModuleIds","edgeServerModuleIds","ASYNC_CLIENT_MODULES","injectedClientEntries","deduplicateCSSImportsForEntry","mergedCSSimports","sortedCSSImports","Object","entries","sort","a","b","aPath","bPath","aDepth","split","length","bDepth","aName","parse","name","bName","indexA","indexOf","indexB","dedupedCSSImports","trackedCSSImports","Set","entryName","cssImports","cssImport","has","filename","includes","add","push","FlightClientEntryPlugin","constructor","options","dev","appDir","isEdgeServer","assetPrefix","encryptionKey","apply","compiler","hooks","compilation","tap","normalModuleFactory","dependencyFactories","set","dependencies","ModuleDependency","dependencyTemplates","NullDependency","Template","finishMake","tapPromise","createClientEntries","afterCompile","recordModule","modId","mod","modPath","matchResource","resourceResolveData","modQuery","query","modResource","startsWith","resource","layer","serverSideRendering","ssrNamedModuleId","relative","context","replace","_chunk","_chunkGroup","moduleGraph","isAsync","make","processAssets","stage","Compilation","PROCESS_ASSETS_STAGE_OPTIMIZE_HASH","assets","createActionAssets","addClientEntryAndSSRModulesList","createdSSRDependenciesForEntry","addActionEntryList","actionMapsPerEntry","createdActions","entryModule","internalClientComponentEntryImports","actionEntryImports","Map","clientEntriesToInject","connection","entryRequest","dependency","request","clientComponentImports","actionImports","collectComponentInfoFromServerEntryDependency","resolvedModule","forEach","dep","names","isAbsoluteRequest","isAbsolute","keys","value","relativeRequest","bundlePath","assign","absolutePagePath","clientEntryToInject","injected","injectClientEntryAndSSRModules","clientImports","reduce","res","curr","size","actionNames","actionName","injectActionEntry","actions","finishModules","addedClientActionEntryList","actionMapsPerClientEntry","ssrEntryDependencies","collectClientActionsFromDependencies","remainingClientImportedActions","remainingActionEntryImports","remainingActionNames","id","fromClient","Promise","all","invalidator","outputPath","some","shouldInvalidate","invalidate","client","map","addClientEntryAndSSRModules","collectedActions","visitedModule","visitedEntry","collectActions","collectActionsInDep","modRequest","entryDependency","ssrEntryModule","getResolvedModule","visited","CSSImports","filterClientComponents","importedIdentifiers","isCSS","_identifier","isCjsModule","rsc","clientEntryType","isCjsDefaultImport","webpackRuntime","sideEffectFree","factoryMeta","unused","getExportsInfo","isModuleUsed","dependencyIds","ids","Array","from","loaderOptions","modules","test","localeCompare","clientImportPath","server","clientBrowserLoader","sep","x","JSON","clientSSRLoader","pageKey","APP","type","CHILD_ENTRY","parentEntries","absoluteEntryFilePath","dispose","lastActiveTime","Date","now","entryData","clientComponentEntryDep","EntryPlugin","createDependency","addEntry","actionsArray","actionLoader","__client_imported__","currentCompilerServerActions","p","workers","actionBrowser","reactServerComponents","actionEntryDep","resolve","reject","entry","get","includeDependencies","call","addModuleTree","contextInfo","issuerLayer","err","module","failedEntry","succeedEntry","chunkGroup","mapping","action","json","node","edge","undefined","RawSource"],"mappings":"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"}